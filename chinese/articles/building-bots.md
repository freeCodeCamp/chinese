> -   åŸæ–‡åœ°å€ï¼š[How to Build a Bot and Automate your Everyday Work Python åŸºç¡€æ•™ç¨‹ï¼šè¿™ä¸ªè‡ªåŠ¨åŒ–ç¨‹åºè®©ä½ çš„å·¥ä½œæ›´é«˜æ•ˆ](https://www.freecodecamp.org/news/building-bots/)
> -   ä½œè€…ï¼šTim Grossmann
> -   è¯‘è€…ï¼špjwok
> -   æ ¡å¯¹è€…ï¼š

![è‡ªåŠ¨åŒ–ä½ çš„æ—¥å¸¸å·¥ä½œ](https://www.freecodecamp.org/news/content/images/size/w2000/2020/06/freecodecamp_cover.png)

å¾ˆå¤šæ—¥å¸¸å·¥ä½œå¯ä»¥é€šè¿‡è‡ªåŠ¨åŒ–çš„æ–¹å¼æ¥å¸®ä½ èŠ‚çœä¸€ç‚¹å®è´µçš„æ—¶é—´ã€‚è¿™ä¹Ÿä½¿å¾—æŒæ¡è‡ªåŠ¨åŒ–æŠ€æœ¯æˆä¸ºå…³é”®ã€‚

åªéœ€è¦ä¸€å°éƒ¨åˆ†ç†Ÿç»ƒçš„è‡ªåŠ¨åŒ–å·¥ç¨‹å¸ˆå’Œé¢†åŸŸä¸“å®¶å°±æœ‰å¯èƒ½å°†æ•´ä¸ªå›¢é˜Ÿä¸­çš„æœ€ç¹ççš„å·¥ä½œå®ç°è‡ªåŠ¨åŒ–ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨åŸºäº Pythonï¼ˆä¸€ç§å¼ºå¤§çš„ä¸”ç®€å•æ˜“å­¦çš„ç¼–ç¨‹è¯­è¨€ï¼‰æ¥å®ç°è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ Python æ¥ç¼–å†™ä¸€ä¸ªç®€å•æœ‰ç”¨çš„å°å‹è‡ªåŠ¨åŒ–è„šæœ¬ï¼Œè¿™ä¸ªè„šæœ¬èƒ½å¤Ÿæ•´ç†æŒ‡å®šæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶æ”¾åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸­ã€‚

æˆ‘ä»¬çš„ç›®æ ‡ä¸æ˜¯åœ¨ä¸€å¼€å§‹å°±ç¼–å†™å®Œç¾çš„ä»£ç ä»¥åŠæ„å»ºä¸€å¥—ç†æƒ³çš„è‡ªåŠ¨åŒ–ä½“ç³»ã€‚

å½“ç„¶æˆ‘ä»¬ä¹Ÿä¸ä¼šåˆ›å»ºä»»ä½•â€œéæ³•â€çš„è„šæœ¬ã€‚ç›¸åçš„ï¼Œæˆ‘ä»¬å°†ç ”ç©¶å¦‚ä½•åˆ›å»ºä¸€ä¸ªèƒ½å¤Ÿè‡ªåŠ¨æ•´ç†æ–‡ä»¶å¤¹å†…å®¹çš„è„šæœ¬ã€‚

# ç›®å½•

1.  [è‡ªåŠ¨åŒ–çš„é¢†åŸŸ][1]
    -   ç®€å•çš„è‡ªåŠ¨åŒ–
    -   å…¬å…± APIï¼ˆApplication Program Interface åº”ç”¨ç¨‹åºæ¥å£ï¼‰çš„è‡ªåŠ¨åŒ–
    -   API çš„é€†å‘å·¥ç¨‹
1.  [è‡ªåŠ¨åŒ–çš„é“å¾·è€ƒé‡][2]
1.  [åˆ›å»ºæ•´ç†æ–‡ä»¶å¤¹è„šæœ¬][3]
1.  [ä¸€ä»½è‡ªåŠ¨åŒ–ç¨‹åºçš„å®Œæ•´æŒ‡å—][4]

## è‡ªåŠ¨åŒ–çš„é¢†åŸŸ

è®©æˆ‘ä»¬ä»å®šä¹‰å“ªç§ç±»å‹çš„è‡ªåŠ¨åŒ–å¼€å§‹ã€‚

è‡ªåŠ¨åŒ–æŠ€æœ¯é€‚ç”¨äºå¤§å¤šæ•°é¢†åŸŸã€‚ä»åˆçº§çš„ï¼Œå®ƒå¯ä»¥å¸®ä½ ä»ä¸€å †æ–‡æ¡£ä¸­æå–é‚®ç®±åœ°å€ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ç¾¤å‘é‚®ä»¶äº†ã€‚åˆ°å¤æ‚ä¸€ç‚¹çš„ï¼Œä¼˜åŒ–å¤§å‹å…¬å¸çš„å†…éƒ¨å·¥ä½œæµç¨‹ã€‚

å½“ç„¶ï¼Œä»å°å‹çš„ä¸ªäººè„šæœ¬åˆ°å¯ä»¥æ›¿ä»£äººå·¥çš„å¤§å‹è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼Œè¿™ä¸­é—´éœ€è¦ä¸€ä¸ªå­¦ä¹ çš„è¿‡ç¨‹ã€‚æ‰€ä»¥è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä½ é€‚åˆä»å“ªä¸ªé¢†åŸŸå¼€å§‹è‡ªåŠ¨åŒ–ä¹‹æ—…ã€‚

### ç®€å•çš„è‡ªåŠ¨åŒ–

ç›´æ¥é’ˆå¯¹å·¥ä½œä¸­çš„æŸä¸€ç‚¹æµç¨‹å®ç°ç®€å•çš„è‡ªåŠ¨åŒ–ã€‚è¿™å…¶ä¸­å¯ä»¥æ˜¯æŸäº›å°å‹çš„ç‹¬ç«‹çš„æ­¥éª¤ï¼Œä¾‹å¦‚æ•´ç†é¡¹ç›®å¹¶é‡æ–°ç¼–æ’ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•´ä¸ªå·¥ä½œæµç¨‹ä¸­ä¸€éƒ¨åˆ†ï¼Œä¾‹å¦‚è‡ªåŠ¨è°ƒæ•´å·²ç»ä¿å­˜æ–‡ä»¶çš„å¤§å°ã€‚

### å…¬å…± API çš„è‡ªåŠ¨åŒ–

ç°å¦‚ä»Šæˆ‘ä»¬å¯ä»¥é€šè¿‡ HTTPï¼ˆHypertext transfer protocol è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰è¯·æ±‚å¯¹åº”çš„ API æ¥å®ç°ç»å¤§éƒ¨åˆ†ç¨‹åºçš„åŠŸèƒ½ï¼Œå› æ­¤è‡ªåŠ¨è°ƒç”¨å…¬å…± API æ˜¯æœ€å¸¸è§çš„è‡ªåŠ¨åŒ–ç¨‹åºã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ éœ€è¦ç»™ä½ å®¶çš„èŠ±å›­å®ç°è‡ªåŠ¨åŒ–çŒæº‰ã€‚

ä¸ºæ­¤ï¼Œä½ éœ€è¦æ ¹æ®å½“å¤©å¤©æ°”æ¥å†³å®šæ˜¯è¦æµ‡æ°´è¿˜æ˜¯æœ‰é›¨è¦æ¥ã€‚

### API çš„é€†å‘å·¥ç¨‹

åœ¨å®é™…çš„ç¨‹åºä¸­ï¼ŒåŸºäº API é€†å‘å·¥ç¨‹çš„è‡ªåŠ¨åŒ–ç¨‹åºæ›´ä¸ºå¸¸è§ã€‚åœ¨ä¸‹æ–‡çš„â€œè‡ªåŠ¨åŒ–çš„é“å¾·è€ƒé‡â€ä¸­ä¹Ÿä¼šæ¢è®¨æœºå™¨äººå†’åé¡¶æ›¿çœŸæ˜¯äººç±»çš„é—®é¢˜

é€šè¿‡å¯¹ä¸€ä¸ª API è¿›è¡Œé€†å‘å·¥ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£ç”¨æˆ·åœ¨æŸä¸ªåº”ç”¨ä¸­çš„æ“ä½œæµç¨‹ã€‚ä¾‹å¦‚ç™»å½•ä¸€ä¸ªç½‘é¡µæ¸¸æˆçš„æ­¥éª¤ã€‚

é€šè¿‡ç†è§£ç™»å½•å’Œèº«ä»½éªŒè¯çš„é€»è¾‘ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è„šæœ¬æ¥å¤åˆ¶è¿™ä¸€åŠ¨ä½œã€‚ç„¶åå³ä½¿ä»–ä»¬ä¸å¯¹å¤–æä¾›åº”ç”¨ç•Œé¢ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå·±çš„æ¥å£è„šæœ¬æ¥ä½¿ç”¨ä»–ä»¬çš„åº”ç”¨ã€‚

æ— è®ºä½ æ˜¯å‡ºä»€ä¹ˆç›®çš„ï¼Œè¯·è€ƒè™‘ä¸€ä¸‹å®ƒæ˜¯å¦åˆæ³•ã€‚

ä½ ä¹Ÿä¸æƒ³æƒ¹éº»çƒ¦ï¼Œå¯¹å§ï¼ŸğŸ˜

## é“å¾·è€ƒé‡

GitHub ä¸Šæœ‰ä¸ªäººè”ç³»åˆ°æˆ‘è¯´ï¼š

> â€œç‚¹èµæ•°å’Œè®¢é˜…æ•°å°±æ˜¯æ•°å­—æ—¶ä»£çš„è´§å¸ï¼Œä½†æ˜¯ä½ ä»¬æ­£åœ¨è®©å®ƒè´¬å€¼ã€‚â€

This stuck with me and made me question the tool I've built for exactly that purpose.
æˆ‘ä¸€ç›´æ€è€ƒç€è¿™ä¸ªé—®é¢˜ï¼Œå¹¶å¼€å§‹è´¨ç–‘æˆ‘æ„å»ºç¨‹åºçœŸæ­£çš„ç›®çš„æ˜¯ä»€ä¹ˆã€‚

äº‹å®æ˜¯ï¼Œè¿™äº›äº’åŠ¨å’Œç‚¹èµå¯ä»¥é€šè¿‡è‡ªåŠ¨åŒ–çš„æ–¹å¼è¿›è¡Œä¼ªé€ ï¼Œè¿™ç§ä¼ªé€ è¶Šæ¥è¶Šå¤šï¼Œå¯¼è‡´æ‰­æ›²å’Œç ´åäº†ç¤¾äº¤åª’ä½“çš„æ­£å¸¸è¿è¡Œã€‚

å¦‚æœä¸ä½¿ç”¨æœºå™¨äººæˆ–è€…å…¶ä»–çš„åˆ·èµç³»ç»Ÿï¼Œç”¨æˆ·å’Œå¹¿å‘Šå…¬å¸å°†çœ‹ä¸åˆ°é‚£äº›çœŸæ­£äº§å‡ºå¥½å†…å®¹å¹¶åˆ›é€ ä»·å€¼çš„äºº

æˆ‘çš„ä¸€ä¸ªæœ‹å‹å€ŸåŠ©ä½†ä¸ã€Šç¥æ›²ã€‹ä¸­ã€Šåœ°ç‹±ç¯‡ã€‹çš„â€œä¹å±‚åœ°ç‹±â€çš„æƒ…æ™¯ï¼Œæ¥å‘æˆ‘è§£é‡Šéšç€ä½ ç¤¾ä¼šå½±å“åŠ›çš„ä¸€æ­¥æ­¥æ‰©å¤§ï¼Œä½ è¶Šæ¥è¶Šéš¾ä»¥æ„è¯†åˆ°è¿™ä¸ªç³»ç»Ÿå®é™…çš„ç ´è´¥ä¹‹å¤„ã€‚

æˆ‘æƒ³å’Œä½ åˆ†äº«è¿™ä¸ªè§‚ç‚¹ï¼Œå› ä¸ºæˆ‘è®¤ä¸ºè¿™èƒ½éå¸¸å‡†ç¡®çš„æè¿°åœ¨æˆ‘ä½¿ç”¨ InstaPy å·¥å…·ä¸ç½‘çº¢åˆä½œæœŸé—´æ‰€çœ‹åˆ°çš„ä¸€åˆ‡ã€‚

**ç¬¬ä¸€å±‚ï¼šçµè–„ç‹±**

å‡å¦‚ä½ ä¸ä½¿ç”¨æœºå™¨äººã€‚

**ç¬¬äºŒå±‚ï¼šçºµæ¬²**

å½“ä½ æ‰‹åŠ¨çš„å¼€å§‹ç‚¹èµå’Œå…³æ³¨å°½å¯èƒ½å¤šçš„äººï¼Œå¹¶è®©ä»–ä»¬ä¹Ÿç‚¹èµå’Œå…³æ³¨ä½ çš„æ–‡ç« ã€‚

**ç¬¬ä¸‰å±‚ï¼šæš´é£Ÿ**

å½“ä½ åŠ å…¥ä¸€ä¸ª Telegram ç¾¤ï¼Œå¤§å®¶ç‚¹èµå¹¶è¯„è®º 10 å¼ ç…§ç‰‡ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„ 10 ä¸ªäººä¹Ÿä¼šç‚¹èµå¹¶è¯„è®ºä½ çš„ç…§ç‰‡ã€‚

**ç¬¬å››å±‚ï¼šè´ªå©ª**

å½“ä½ ä½¿ç”¨ä½æˆæœ¬çš„è™šæ‹ŸåŠ©æ‰‹å¸®ä½ ç‚¹èµå’Œå…³æ³¨ã€‚

**ç¬¬äº”å±‚ï¼šæ„¤æ€’**

å½“ä½ ä½¿ç”¨æœºå™¨äººå»ç‚¹èµï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•ç‚¹èµçš„å›é¦ˆï¼ˆä½†æ˜¯ä½ ä¸ç”¨ä»˜è´¹ï¼Œä¾‹å¦‚ Chrome æ¸¸è§ˆå™¨ä¸­çš„æ‰©å±•ç¨‹åºï¼‰ã€‚

**ç¬¬å…­å±‚ï¼šå¼‚ç«¯**

å½“ä½ ä½¿ç”¨æœºå™¨äººç»™å‡º 50+ä¸ªç‚¹èµå¹¶è·å¾— 50+ä¸ªç‚¹èµï¼ˆä½†æ˜¯ä½ ä¸ç”¨ä»˜è´¹ï¼Œä¾‹å¦‚ Chrome æ¸¸è§ˆå™¨ä¸­çš„æ‰©å±•ç¨‹åºï¼‰ã€‚

**ç¬¬ä¸ƒå±‚ï¼šæ–½æš´**

å½“ä½ ä½¿ç”¨æœºå™¨äººç‚¹èµã€å…³æ³¨ã€è¯„è®º 200-700 å¼ ç…§ç‰‡ï¼Œå¹¶æ— è§†ç¦è¨€çš„è­¦å‘Šã€‚

**ç¬¬å…«å±‚ï¼šæ¬ºè¯ˆ**

å½“ä½ ä»˜è´¹ç»™æœªçŸ¥çš„ç¬¬ä¸‰æ–¹æœåŠ¡å»è‡ªåŠ¨çš„å¸®ä½ è·å¾—ç‚¹èµå’Œå…³æ³¨ï¼ŒåŒæ—¶ä¹Ÿç”¨ä½ çš„è´¦å·å»ç‚¹èµå’Œå…³æ³¨åˆ«äººã€‚

**ç¬¬ä¹å±‚ï¼šèƒŒå›è€…**

å½“ä½ ä»˜è´¹è´­ä¹°ç‚¹èµå’Œå…³æ³¨æ•°ï¼Œè¯•å›¾å»åŒ…è£…è‡ªå·±æˆä¸ºä¸€ä¸ªç½‘çº¢ã€‚

åœ¨ç¤¾äº¤åª’ä½“ä¸Šé¢ä½¿ç”¨æœºå™¨äººéå¸¸å¸¸è§ï¼Œä»¥è‡´äº**å¦‚æœä½ ä¸åŒ…è£…ï¼Œä½ ä¼šè¢«å¡åœ¨ç¬¬ä¸€å±‚ï¼Œå³çµè–„ç‹±**ï¼Œä¸ä½ çš„åŒè¡Œæ¯”èµ·æ¥ä½ çš„å…³æ³¨äººæ•°æ²¡æœ‰å¢é•¿ï¼Œè®¢é˜…é‡ä¹Ÿä½ã€‚

ä»ç»æµå‹ç†è®ºçœ‹ï¼Œè¿™å«**å›šå¾’å›°å¢ƒå’Œé›¶å’Œåšå¼ˆ**ã€‚å¦‚æœæˆ‘ä¸ä½¿ç”¨æœºå™¨äººï¼Œä½†æ˜¯ä½ ç”¨äº†ï¼Œä½ å°±èµ¢äº†ã€‚å¦‚æœä½ æ²¡æœ‰ç”¨ï¼Œä½†æˆ‘ç”¨äº†ï¼Œæˆ‘å°±èµ¢äº†ã€‚å¦‚æœæˆ‘ä»¬éƒ½ä¸ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½å…±èµ¢ã€‚ä½†æ˜¯å¯¹äºé‚£äº›æ²¡æœ‰ä½¿ç”¨æœºå™¨äººçš„äººæ˜¯æ²¡æœ‰å¥–åŠ±çš„ï¼Œå¤§å®¶å°±éƒ½åœ¨ç”¨ï¼Œé‚£ä¹ˆæ²¡æœ‰äººä¼šèµ¢ã€‚

> è¯·è­¦æƒ•è¿™ç‚¹ï¼Œä¸è¦å¿˜è®°æ•´ä¸ªå·¥å…·å¯¹ç¤¾äº¤åª’ä½“çš„å½±å“ã€‚

![](https://www.freecodecamp.org/news/content/images/2020/07/spectrum-bot-intent-ebook.png)

æ¥æºï¼šSignalSciences.com

æˆ‘ä»¬å¸Œæœ›è§„é¿é“å¾·é—®é¢˜ï¼Œå¹¶ç»§ç»­å¼€å±•ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„é¡¹ç›®ã€‚è¿™å°±æ˜¯æˆ‘ä»¬ä¸ºä»€ä¹ˆåªæ˜¯åˆ›å»ºä¸€ä¸ªç®€å•çš„ç›®å½•æ•´ç†è„šæœ¬æ¥å¸®ç¥ä½ æ•´ç†ä¹±ç³Ÿç³Ÿçš„æ–‡ä»¶ã€‚

## åˆ›å»ºæ•´ç†ç›®å½•è„šæœ¬

ç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªéå¸¸ç®€å•çš„è„šæœ¬ã€‚å®ƒä¼šè‡ªåŠ¨æ•´ç†æŒ‡å®šçš„ç›®å½•ï¼Œå°†å…¶ä¸­çš„æ–‡ä»¶æ ¹æ®æ–‡ä»¶åç¼€åç§»åŠ¨åˆ°å¯¹äºçš„æ–‡ä»¶å¤¹ã€‚

ä¸‹å›¾å°±æ˜¯æˆ‘ä»¬å°†è¦åšçš„äº‹æƒ…ï¼š

![](https://www.freecodecamp.org/news/content/images/2020/06/directory_clean_img.png)

### è®¾ç½®å‚æ•°è§£æå™¨

ç”±äºæˆ‘ä»¬ä¼šç”¨åˆ°æ“ä½œç³»ç»Ÿçš„åŠŸèƒ½ï¼Œæ¯”å¦‚ç§»åŠ¨æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¼å…¥ `os` åº“ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›ç”¨æˆ·èƒ½å¤Ÿæ§åˆ¶è¦æ•´ç†çš„æ–‡ä»¶å¤¹ï¼Œå› æ­¤æˆ‘ä»¬è¿˜ä¼šç”¨åˆ° `argparse` åº“ã€‚

```python
import os
import argparse
```

å¯¼å…¥äº†è¿™ä¸¤ä¸ªåº“ä¹‹åï¼Œæˆ‘ä»¬é¦–å…ˆè¦è®¾ç½®å‚æ•°è§£æå™¨ã€‚ç¡®ä¿ä¸ºæ¯ä¸ªå‚æ•°æœ‰å¯¹åº”çš„æè¿°å’Œå¸®åŠ©æ–‡æœ¬ï¼Œä»¥ä¾¿ç”¨æˆ·åœ¨è¾“å…¥ `--help` æ—¶å¾—åˆ°å¸®åŠ©ã€‚

æˆ‘ä»¬çš„å‚æ•°ä¼šè¢«å‘½åä¸º `--path`ã€‚ å‚æ•°åå‰é¢çš„åŒç ´æŠ˜å·å‘Šè¯‰åº“è¿™æ˜¯ä¸€ä¸ªå¯é€‰å‚æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨å½“å‰ç›®å½•ï¼Œå› æ­¤å°†é»˜è®¤å€¼è®¾ä¸º `.`ã€‚

```python
parser = argparse.ArgumentParser(
    description="Clean up directory and put files into according folders."
)

parser.add_argument(
    "--path",
    type=str,
    default=".",
    help="Directory path of the to be cleaned directory",
)
# è§£æç”¨æˆ·æä¾›çš„pathå‚æ•°çš„å€¼
args = parser.parse_args()
path = args.path

print(f"Cleaning up directory {path}")
```

è¿™å°±å®Œæˆäº†å‚æ•°è§£æçš„éƒ¨åˆ†ï¼Œéå¸¸ç®€å•æ˜“è¯»ï¼Œå¯¹å§ï¼Ÿ

è®©æˆ‘ä»¬æ‰§è¡Œä¸€ä¸‹è„šæœ¬ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æŠ¥é”™ã€‚

```bash
python directory_clean.py --path ./test

=> Cleaning up directory ./test

```

ä¸€æ—¦æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°ç›®å½•åç§°è¢«æ‰“å°å‡ºæ¥ï¼Œå®Œç¾ã€‚

ç°åœ¨è®©æˆ‘ä»¬æ¥ä½¿ç”¨ `os` åº“æ¥è·å–ç»™å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶ã€‚

### ä»æ–‡ä»¶å¤¹ä¸­è·å–æ–‡ä»¶åˆ—è¡¨

é€šè¿‡ç»™ `os.listdir(path)` æ–¹æ³•æä¾›ä¸€ä¸ªæœ‰æ•ˆçš„è·¯å¾„ï¼Œæˆ‘ä»¬å°±èƒ½è·å¾—è¯¥ç›®å½•å†…æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„åˆ—è¡¨ã€‚

åœ¨åˆ—å‡ºäº†æ–‡ä»¶å¤¹å†…æ‰€æœ‰çš„å…ƒç´ åï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ–‡ä»¶å’Œæ–‡ä»¶å¤¹è¿›è¡ŒåŒºåˆ†ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦æ•´ç†æ–‡ä»¶è€Œä¸æ˜¯æ–‡ä»¶å¤¹ã€‚

æˆ‘ä»¬ä½¿ç”¨ Python çš„åˆ—è¡¨æ¥éå†æ‰€æœ‰å…ƒç´ ï¼Œæ ¹æ®æ˜¯å¦æ»¡è¶³æ˜¯æ–‡ä»¶è¿˜æ˜¯æ–‡ä»¶å¤¹çš„æ¡ä»¶å°†ä»–ä»¬æ”¾åˆ°æ–°çš„åˆ—è¡¨ä¸­ã€‚

```python
# è·å–ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶
dir_content = os.listdir(path)
# æ ¹æ®æ–‡ä»¶å’Œæ–‡ä»¶ååˆ›å»ºç›¸å¯¹è·¯å¾„
path_dir_content = [os.path.join(path, doc) for doc in dir_content]
# è¿‡æ»¤ç›®å½•å†…å®¹åˆ°æ–‡æ¡£æˆ–æ–‡ä»¶å¤¹åˆ—è¡¨
docs = [doc for doc in path_dir_content if os.path.isfile(doc)]
folders = [folder for folder in path_dir_content if os.path.isdir(folder)]
# è®°å½•æ–‡ä»¶ç§»åŠ¨çš„æ•°é‡
# åˆ—å‡ºå·²ç»åˆ›å»ºçš„æ–‡ä»¶å¤¹ä»¥å…å‡ºç°é‡å¤
moved = 0
created_folders = []

print(f"Cleaning up {len(docs)} of {len(dir_content)} elements.")
```

å’Œä¹‹å‰ä¸€æ ·ï¼Œè®©æˆ‘ä»¬ç¡®ä¿ç”¨æˆ·èƒ½å¤Ÿå¾—åˆ°åé¦ˆã€‚æ‰€ä»¥éœ€è¦æ‰“å°ä¸€ä¸ªå‘ŠçŸ¥ç”¨æˆ·å¤šå°‘æ–‡ä»¶è¢«ç§»åŠ¨çš„ä¿¡æ¯ã€‚

```bash
python directory_clean.py --path ./test

=> Cleaning up directory ./test
=> Cleaning up 60 of 60 elements.
```

å½“æˆ‘ä»¬å†æ¬¡æ‰§è¡Œ python è„šæœ¬ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨ `/test` æ–‡ä»¶å¤¹ä¸‹å°†ä¼šå‡ºç° 60 ä¸ªè¢«ç§»åŠ¨çš„æ–‡ä»¶ã€‚

### æ ¹æ®æ–‡ä»¶åç¼€ååˆ›å»ºæ–‡ä»¶å¤¹

æ¥ä¸‹æ¥ä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€æ­¥æ˜¯æ ¹æ®æ¯ä¸ªæ–‡ä»¶çš„åç¼€ååˆ›å»ºæ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬å¸Œæœ›é€šè¿‡éå†æ‰€æœ‰å·²ç»è¿‡æ»¤å¥½çš„æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰åˆ›å»ºå¯¹åº”åç¼€åçš„æ–‡ä»¶å¤¹ï¼Œå°±åˆ›å»ºä¸€ä¸ªã€‚

`os` åº“èƒ½ç»™æˆ‘ä»¬æä¾›éå¸¸å‹å¥½çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æ‹†åˆ†ç»™å®šæ–‡ä»¶çš„ç±»å‹å’Œè·¯å¾„ï¼Œæå–æ–‡ä»¶è·¯å¾„å’Œæ–‡ä»¶åã€‚

```python
# éå†æ‰€æœ‰çš„æ–‡ä»¶ï¼Œå¹¶ç§»åŠ¨åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸­
for doc in docs:
    # æå–æ–‡ä»¶åç¼€å
    full_doc_path, filetype = os.path.splitext(doc)
    doc_path = os.path.dirname(full_doc_path)
    doc_name = os.path.basename(full_doc_path)

    print(filetype)
    print(full_doc_path)
    print(doc_path)
    print(doc_name)

    break
```

å¦‚æœæˆ‘ä»¬çš„ç›®å½•åŒ…å«æˆå †çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆä¸Šé¢ä»£ç æœ«å°¾çš„ break è¯­å¥ç”¨äºç¡®ä¿æˆ‘ä»¬çš„ç»ˆç«¯ä¸ä¼šåˆ—æ»¡æ‰€æœ‰çš„æ–‡ä»¶ä¿¡æ¯ã€‚

æˆ‘ä»¬è®¾ç½®å¥½è¿™ä¸€æ­¥ä¹‹åï¼Œè®©æˆ‘ä»¬æ‰§è¡Œä¸€ä¸‹è„šæœ¬ï¼Œçœ‹åˆ°çš„å†…å®¹å¯èƒ½ç±»ä¼¼è¿™æ ·çš„ï¼š

```python
python directory_clean.py --path ./test

=> ...
=> .pdf
=> ./test/test17
=> ./test
=> test17
```

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šé¢çš„å®ç°ï¼Œåˆ†ç¦»æ–‡ä»¶ç±»å‹ï¼Œç„¶åä»å®Œæ•´è·¯å¾„ä¸­æå–éƒ¨åˆ†å†…å®¹ã€‚

ç°åœ¨æˆ‘ä»¬æœ‰äº†æ–‡ä»¶ç±»å‹ï¼Œæˆ‘ä»¬å°±èƒ½æ£€æŸ¥æ‹¥æœ‰è¿™ä¸ªæ–‡ä»¶ç±»å‹çš„åŒåæ–‡ä»¶å¤¹æ˜¯å¦å·²ç»å­˜åœ¨ã€‚

åœ¨å¼€å§‹è¿™ä¸€æ­¥ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è·³è¿‡ä¸€äº›æ–‡ä»¶ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨å½“å‰ç›®å½• `.` ä½œä¸ºè·¯å¾„ï¼Œæˆ‘ä»¬éœ€è¦é¿å… python è„šæœ¬ä¹Ÿè¢«ç§»åŠ¨ã€‚å¯ä»¥é€šè¿‡ä¸€ä¸ªç®€å•çš„ if æ¡ä»¶è¯­å¥æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿä¸å¸Œæœ›ç§»åŠ¨[éšè—æ–‡ä»¶][5]ï¼Œæ‰€æœ‰ `.` å¼€å¤´çš„æ–‡ä»¶ä¹Ÿè¦è·³è¿‡ã€‚ macOS ä¸Šçš„ `.DS_Store` å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚

```python
    # å½“åœ¨ç›®å½•ä¸­å­˜åœ¨ åä¸º directory_clean çš„æ–‡ä»¶æˆ– . å¼€å¤´çš„æ–‡ä»¶åœ¨æ—¶è·³è¿‡
    if doc_name == "directory_clean" or doc_name.startswith('.'):
        continue
    # è·å¾—å­æ–‡ä»¶å¤¹çš„åç§°ï¼Œåˆ›å»ºå…¶ä¸­ä¸å­˜åœ¨çš„æ–‡ä»¶å¤¹å
    subfolder_path = os.path.join(path, filetype[1:].lower())

    if subfolder_path not in folders:
        # åˆ›å»ºæ–‡ä»¶å¤¹

```

å¤„ç†å®Œ python è„šæœ¬è·¯å¾„å’Œéšè—æ–‡ä»¶åï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­åœ¨ç³»ç»Ÿä¸­åˆ›å»ºæ–‡ä»¶å¤¹äº†ã€‚

é™¤äº†æˆ‘ä»¬çš„åˆ¤æ–­ä¹‹å¤–ï¼Œå¦‚æœä¸€å¼€å§‹è¯»å–ç›®å½•æ—¶å‘ç°åŒåæ–‡ä»¶å¤¹å·²ç»å­˜åœ¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§èƒ½å¤Ÿæ£€æµ‹å·²åˆ›å»ºæ–‡ä»¶å¤¹çš„æ–¹æ³•ã€‚è¿™å°±æ˜¯æˆ‘ä»¬è¦å£°æ˜æ•°ç»„å˜é‡ `create_folders = []` çš„åŸå› ã€‚å®ƒå°†ç”¨æ¥å­˜å‚¨å·²è¢«æ£€æµ‹è¿‡çš„æ–‡ä»¶åã€‚

`os` åº“ä¸­æä¾›äº†ä¸€ä¸ª `os.mkdir(folder_path)` çš„æ–¹æ³•ç”¨äºæ ¹æ®è·¯å¾„åˆ›å»ºæ–°æ–‡ä»¶å¤¹ã€‚

è¿™ä¸ªæ–¹æ³•å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå‘Šè¯‰æˆ‘ä»¬æ–‡ä»¶å¤¹å·²ç»å­˜åœ¨ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç¡®ä¿å¼‚å¸¸è¢«æ•è·ã€‚

```python
if subfolder_path not in folders and subfolder_path not in created_folders:
    try:
        os.mkdir(subfolder_path)
        created_folders.append(subfolder_path)
        print(f"Folder {subfolder_path} created.")
    except FileExistsError as err:
        print(f"Folder already exists at {subfolder_path}... {err}")

```

åœ¨ç¼–å†™å®Œåˆ›å»ºæ–‡ä»¶å¤¹çš„ä»£ç åï¼Œè®©æˆ‘ä»¬é‡æ–°è¿è¡Œä¸€éè„šæœ¬ã€‚

```python
python directory_clean.py --path ./test 

=> ...
=> Folder ./test/pdf created.
```

åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼Œæˆ‘ä»¬ä»æ—¥å¿—åˆ—è¡¨çœ‹åˆ°ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä»¥æ–‡ä»¶åç¼€åå‘½åçš„æ–‡ä»¶å¤¹ã€‚


æœ€åä¸€æ­¥å°±æ˜¯ç§»åŠ¨æ–‡ä»¶åˆ°å®ƒä»¬å¯¹åº”çš„çˆ¶æ–‡ä»¶å¤¹ä¸­ã€‚

å½“ä½¿ç”¨ `os` åº“æ—¶éœ€è¦æ˜ç™½çš„æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œæœ‰äº›æ“ä½œæ— æ³•æ’¤é”€ã€‚ä¾‹å¦‚ï¼Œåˆ é™¤æ–‡ä»¶çš„æƒ…å†µã€‚å› æ­¤ï¼Œåœ¨æ‰§è¡Œè„šæœ¬å‰æˆ‘ä»¬éœ€è¦å…ˆæ³¨é‡Šæ‰éƒ¨åˆ†å†…å®¹

è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„ `os.rename(...)` æ–¹æ³•ä¼šåœ¨è¿™é‡Œè¢«æ³¨é‡Šæ‰ã€‚

```python
# è·å–æ–°æ–‡ä»¶è·¯å¾„ï¼Œç§»åŠ¨æ–‡ä»¶
    new_doc_path = os.path.join(subfolder_path, doc_name) + filetype
    # os.rename(doc, new_doc_path)
    moved += 1

    print(f"Moved file {doc} to {new_doc_path}")
```

è¿è¡Œå®Œæˆ‘ä»¬çš„è„šæœ¬å¹¶çœ‹åˆ°æ­£ç¡®çš„æ—¥å¿—ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ’¤é”€ `os.rename()` æ–¹æ³•çš„æ³¨é‡Šï¼Œå¹¶æœ€ç»ˆå†™æˆè¿™æ ·çš„ã€‚

```python
# è·å–æ–°æ–‡ä»¶è·¯å¾„ï¼Œç§»åŠ¨æ–‡ä»¶
    new_doc_path = os.path.join(subfolder_path, doc_name) + filetype
    os.rename(doc, new_doc_path)
    moved += 1

    print(f"Moved file {doc} to {new_doc_path}")

print(f"Renamed {moved} of {len(docs)} files.")
```

```bash
python directory_clean.py --path ./test

=> ...
=> Moved file ./test/test17.pdf to ./test/pdf/test17.pdf
=> ...
=> Renamed 60 of 60 files.
```

æœ€åçš„è¿™ä¸ªè¿è¡Œç»“æœä¼šå°†æ‰€æœ‰æ–‡ä»¶ç§»åŠ¨åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬çš„ç›®å½•ä¸éœ€è¦æ‰‹åŠ¨æ“ä½œä¹Ÿèƒ½å¾ˆå¥½çš„è¢«æ•´ç†ã€‚

ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æˆ‘ä»¬ä¸Šé¢åˆ›å»ºå¥½çš„è„šæœ¬å»åšæ›´å¤šæ˜¯äº‹æƒ…ï¼Œä¾‹å¦‚ï¼Œå®‰æ’è„šæœ¬åœ¨æ¯ä¸ªæ˜ŸæœŸä¸€å®šæ—¶æ¸…ç† Downloads æ–‡ä»¶å¤¹ï¼Œä»¥ä¾¿è®©å…¶çœ‹èµ·æ¥æ›´æ•´æ´æœ‰åºã€‚

**è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨ Udemy ä¸­åˆ›å»ºçš„åä¸º[åˆ›å»ºè‡ªåŠ¨åŒ–ç¨‹åº][6]çš„åç»­è¯¾ç¨‹**
## [ä¸€ä»½å®Œæ•´çš„æ—¥å¸¸è‡ªåŠ¨åŒ–ç¨‹åºæŒ‡å—][7]

Felix å’Œæˆ‘åœ¨å­¦ä¹  **InstaPy** åº“å’Œä»–çš„ **Travian-Bot** åº“çš„åŸºç¡€ä¸Šåˆ›å»ºäº†ä¸€ä¸ª**æ•™ä½ å¦‚ä½•åˆ›å»ºè‡ªå·±çš„æœºå™¨äºº**çš„åœ¨çº¿è§†é¢‘ã€‚å®é™…ä¸Šï¼Œä»–ä¹Ÿå› ä¸ºè¿™ä¸ªåº“å¤ªç«çˆ†å¯¼è‡´æƒ³å…³é—­è¿™ä¸ªé¡¹ç›®ã€‚

[1]: https://www.freecodecamp.org/news/building-bots/#areas-of-automation-and-where-to-start
[2]: https://www.freecodecamp.org/news/building-bots/#ethical-considerations
[3]: https://www.freecodecamp.org/news/building-bots/#creating-a-directory-clean-up-script
[4]: https://www.freecodecamp.org/news/building-bots/#a-complete-guide-to-bot-creation-and-automating-your-everyday-work
[5]: https://www.lifewire.com/what-is-a-hidden-file-2625898
[6]: https://www.udemy.com/course/the-complete-guide-to-bot-creation/?referralCode=7418EBB47E11E34D86C9
[7]: https://www.udemy.com/course/the-complete-guide-to-bot-creation/?referralCode=7418EBB47E11E34D86C9
