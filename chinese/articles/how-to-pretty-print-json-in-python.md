> -  原文地址：[How to Pretty Print JSON in Python](https://www.freecodecamp.org/news/how-to-pretty-print-json-in-python/)
> -  原文作者：[Shittu Olumide](https://www.freecodecamp.org/news/author/shittuolumide/)
> -  译者：Shenghan0329
> -  校对者：

![如何在Python中代码美化JSON](https://www.freecodecamp.org/news/content/images/size/w2000/2023/04/Shittu-Olumide-How-to-Pretty-Print-JSON-in-Python.png)

JSON(JavaScript Object Notation)是一种流行的数据交换格式。它在互联网应用、API、和数据库中被广泛应用。JSON 是一个轻量的可读的格式，这种格式容易被解析和生成。

但是当处理巨大和复杂的 JSON 数据时，读取和理解数据的结构变得复杂，因此我们需要代码美化。代码美化是通过格式修改，将 JSON 数据变得容易阅读容易理解的过程。

在这篇文章里，我们会探索如何通过自带和第三方代码库，在 Python 中代码美化 JSON。我们也会讨论代码美化 JSON 的最佳方法，以及它的用例。

## 代码美化是什么意思？

在 Python 中，“代码美化”是指格式化和展示数据结构，来使得它们更加可读更加有条理。这些数据结构例如链表、字典和元组。

为了在 Python 中代码美化 JSON，我们可以使用内置的`json`模块。这个模块提供了`dump()`方程。它可以通过数列化使 Python 对象成为一个 JSON 格式的字符串。

默认情况下，此函数生成一个没有任何格式的 JSON 字符串，但我们可以使用`indent`参数来指定用于缩进的空格数。

以下是一个如何在 Python 中代码美化 JSON 的例子：

```python
import json

# JSON数据样本
data = {
    "name": "John",
    "age": 30,
    "city": "New York"
}

# 将数据转换为JSON格式的字符串，其中包含4个空格的缩进
json_str = json.dumps(data, indent=4)

# 打印代码美化过的JSON字符串
print(json_str)
```

输出：

```python
{
    "name": "John",
    "age": 30,
    "city": "New York"
}
```

如你所见，“indent”参数设置为“4”，它就会生成一个 JSON 字符串，其中每个级别的嵌套都缩进了四个空格。我们可以调整这个参数来控制输出中的缩进量。

> 注意 `json.dumps()` 函数也可以接受其它可选的参数, 比如说`sort_keys`，它可以被用来排列 JSON 输出中的键。你可以阅读 json 模块的文献来获取该函数的更多信息。

## 代码美化 JSON 中的最佳习惯

### 使用`json`模块

`json`模块是一个 Python 内置的模块, 它提供了处理 JSON 数据的很多方法。`json.dumps()`方法被用于将 Python 对象数列化成一个 JSON 格式的字符串。`json.dumps()`方法也可以接受`indent`参数。这个参数可以被用于指明缩进的空格数。

以下是一个例子：

```python
import json

data = {
    "name": "John",
    "age": 30,
    "city": "New York"
}

json_str = json.dumps(data, indent=4)
print(json_str)
```

输出：

```python
{
    "name": "John",
    "age": 30,
    "city": "New York"
}
```

### 使用`pprint`模块

`pprint`模块是一个 Python 内置的模块，它提供了一种代码美化 Python 数据结构的方式。它也可以处理 JSON 数据。`pprint.pprint()`方法被用来代码美化 JSON 数据。

以下是一个例子：

```python
import json
import pprint

data = {
    "name": "John",
    "age": 30,
    "city": "New York"
}

pprint.pprint(data)
```

输出：

```python
{'age': 30, 'city': 'New York', 'name': 'John'}
```

### 使用第三方代码库

在 Python 里，有很多用于代码美化 JSON 数据的第三方代码库，比如说`simplejson`、`ujson`和 `json5`。这些库提供了其他功能，比如更快的序列化和反序列化、对其他数据类型的支持以及更灵活的格式化选项。

以下是一个使用`simplejson`的例子:

```python
import simplejson as json

data = {
    "name": "John",
    "age": 30,
    "city": "New York"
}

json_str = json.dumps(data, indent=4, sort_keys=True)
print(json_str)
```

输出：

```python
{
    "age": 30,
    "city": "New York",
    "name": "John"
}
```

## 在 Python 中代码美化的用例

1.**调试 JSON 数据**：在处理 JSON 数据时，如果数据格式不好，读取和理解数据的结构可能会很困难。用 Python 代码美化 JSON 数据可以帮助我们快速识别数据中的任何问题，并更有效地调试代码。

2.**在用户界面中显示 JSON 数据**：如果我们正在构建一个向用户显示 JSON 数据的 web 应用程序或移动端应用程序，那么代码美化可以通过使数据更具可读性和可呈现性来增强用户体验。

3.**与团队成员共享 JSON 数据**：如果我们正在与其他团队成员一起处理一个项目，并且需要与他们共享 JSON 数据，那么代码美化数据可以让他们更容易地理解并使用数据。

4.**记录 JSON 数据**：如果我们在 Python 应用中记录 JSON 数据，那么代码美化数据可以使读取和分析记录变得更容易。

## 结论

对任何处理 JSON 数据的人来说，在 Python 中代码美化 JSON 都是一个十分重要的技能。

在这个教学中，我们学习了如何在 Python 中使用`json`模块来代码美化 JSON，也学习了`pprint`模块。通过短短的几行代码，我们可以生成格式清晰的 JSON 输出，以方便我们阅读和导航。

在[Twitter](https://www.twitter.com/Shittu_Olumide_)和[LinkedIn](https://www.linkedin.com/in/olumide-shittu)和我建立联系吧。你也可以订阅我的[YouTube](https://www.youtube.com/channel/UCNhFxpk6hGt5uMCKXq0Jl8A)频道。

********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************编程快乐！********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
